{"version":3,"sources":["../node_modules/echarts/lib/component/title.js","PredictMultiple.js"],"names":["zrUtil","require","echarts","graphic","getLayoutRect","extendComponentModel","type","layoutMode","ignoreSize","defaultOption","zlevel","z","show","text","target","subtext","subtarget","left","top","backgroundColor","borderColor","borderWidth","padding","itemGap","textStyle","fontSize","fontWeight","color","subtextStyle","extendComponentView","render","titleModel","ecModel","api","this","group","removeAll","get","textStyleModel","getModel","subtextStyleModel","textAlign","textVerticalAlign","retrieve2","textEl","Text","style","setTextStyle","textFill","getTextColor","disableBox","z2","textRect","getBoundingRect","subText","subTextEl","y","height","link","sublink","triggerEvent","silent","on","window","open","eventData","componentType","componentIndex","add","groupRect","layoutOption","getBoxLayoutParams","width","layoutRect","getWidth","getHeight","x","attr","alignStyle","setStyle","margin","getItemStyle","fill","rect","Rect","shape","r","subPixelOptimize","PredictMultiple","data","useState","line","setLine","Datalegend","setDataLegend","Rref","useRef","undefined","exported","setExported","useEffect","tmp","tmpl","yAxis","map","n","push","legend","name","smooth","refresh","src","display","ref","option","tooltip","trigger","axisPointer","grid","bottom","xAxis","axisTick","alignWithLabel","axisLine","onZero","lineStyle","axisLabel","rotate","series","lazyUpdate","onEvents","click","e","finished","reObj","current","eObj","getEchartsInstance","getDataURL","pixelRatio"],"mappings":"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","file":"gb/static/js/5.851fd4bd.chunk.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar echarts = require(\"../echarts\");\n\nvar graphic = require(\"../util/graphic\");\n\nvar _layout = require(\"../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Model\necharts.extendComponentModel({\n  type: 'title',\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n  defaultOption: {\n    // 一级层叠\n    zlevel: 0,\n    // 二级层叠\n    z: 6,\n    show: true,\n    text: '',\n    // 超链接跳转\n    // link: null,\n    // 仅支持self | blank\n    target: 'blank',\n    subtext: '',\n    // 超链接跳转\n    // sublink: null,\n    // 仅支持self | blank\n    subtarget: 'blank',\n    // 'center' ¦ 'left' ¦ 'right'\n    // ¦ {number}（x坐标，单位px）\n    left: 0,\n    // 'top' ¦ 'bottom' ¦ 'center'\n    // ¦ {number}（y坐标，单位px）\n    top: 0,\n    // 水平对齐\n    // 'auto' | 'left' | 'right' | 'center'\n    // 默认根据 left 的位置判断是左对齐还是右对齐\n    // textAlign: null\n    //\n    // 垂直对齐\n    // 'auto' | 'top' | 'bottom' | 'middle'\n    // 默认根据 top 位置判断是上对齐还是下对齐\n    // textVerticalAlign: null\n    // textBaseline: null // The same as textVerticalAlign.\n    backgroundColor: 'rgba(0,0,0,0)',\n    // 标题边框颜色\n    borderColor: '#ccc',\n    // 标题边框线宽，单位px，默认为0（无边框）\n    borderWidth: 0,\n    // 标题内边距，单位px，默认各方向内边距为5，\n    // 接受数组分别设定上右下左边距，同css\n    padding: 5,\n    // 主副标题纵向间隔，单位px，默认为10，\n    itemGap: 10,\n    textStyle: {\n      fontSize: 18,\n      fontWeight: 'bolder',\n      color: '#333'\n    },\n    subtextStyle: {\n      color: '#aaa'\n    }\n  }\n}); // View\n\necharts.extendComponentView({\n  type: 'title',\n  render: function (titleModel, ecModel, api) {\n    this.group.removeAll();\n\n    if (!titleModel.get('show')) {\n      return;\n    }\n\n    var group = this.group;\n    var textStyleModel = titleModel.getModel('textStyle');\n    var subtextStyleModel = titleModel.getModel('subtextStyle');\n    var textAlign = titleModel.get('textAlign');\n    var textVerticalAlign = zrUtil.retrieve2(titleModel.get('textBaseline'), titleModel.get('textVerticalAlign'));\n    var textEl = new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: titleModel.get('text'),\n        textFill: textStyleModel.getTextColor()\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var textRect = textEl.getBoundingRect();\n    var subText = titleModel.get('subtext');\n    var subTextEl = new graphic.Text({\n      style: graphic.setTextStyle({}, subtextStyleModel, {\n        text: subText,\n        textFill: subtextStyleModel.getTextColor(),\n        y: textRect.height + titleModel.get('itemGap'),\n        textVerticalAlign: 'top'\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var link = titleModel.get('link');\n    var sublink = titleModel.get('sublink');\n    var triggerEvent = titleModel.get('triggerEvent', true);\n    textEl.silent = !link && !triggerEvent;\n    subTextEl.silent = !sublink && !triggerEvent;\n\n    if (link) {\n      textEl.on('click', function () {\n        window.open(link, '_' + titleModel.get('target'));\n      });\n    }\n\n    if (sublink) {\n      subTextEl.on('click', function () {\n        window.open(sublink, '_' + titleModel.get('subtarget'));\n      });\n    }\n\n    textEl.eventData = subTextEl.eventData = triggerEvent ? {\n      componentType: 'title',\n      componentIndex: titleModel.componentIndex\n    } : null;\n    group.add(textEl);\n    subText && group.add(subTextEl); // If no subText, but add subTextEl, there will be an empty line.\n\n    var groupRect = group.getBoundingRect();\n    var layoutOption = titleModel.getBoxLayoutParams();\n    layoutOption.width = groupRect.width;\n    layoutOption.height = groupRect.height;\n    var layoutRect = getLayoutRect(layoutOption, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }, titleModel.get('padding')); // Adjust text align based on position\n\n    if (!textAlign) {\n      // Align left if title is on the left. center and right is same\n      textAlign = titleModel.get('left') || titleModel.get('right');\n\n      if (textAlign === 'middle') {\n        textAlign = 'center';\n      } // Adjust layout by text align\n\n\n      if (textAlign === 'right') {\n        layoutRect.x += layoutRect.width;\n      } else if (textAlign === 'center') {\n        layoutRect.x += layoutRect.width / 2;\n      }\n    }\n\n    if (!textVerticalAlign) {\n      textVerticalAlign = titleModel.get('top') || titleModel.get('bottom');\n\n      if (textVerticalAlign === 'center') {\n        textVerticalAlign = 'middle';\n      }\n\n      if (textVerticalAlign === 'bottom') {\n        layoutRect.y += layoutRect.height;\n      } else if (textVerticalAlign === 'middle') {\n        layoutRect.y += layoutRect.height / 2;\n      }\n\n      textVerticalAlign = textVerticalAlign || 'top';\n    }\n\n    group.attr('position', [layoutRect.x, layoutRect.y]);\n    var alignStyle = {\n      textAlign: textAlign,\n      textVerticalAlign: textVerticalAlign\n    };\n    textEl.setStyle(alignStyle);\n    subTextEl.setStyle(alignStyle); // Render background\n    // Get groupRect again because textAlign has been changed\n\n    groupRect = group.getBoundingRect();\n    var padding = layoutRect.margin;\n    var style = titleModel.getItemStyle(['color', 'opacity']);\n    style.fill = titleModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: groupRect.x - padding[3],\n        y: groupRect.y - padding[0],\n        width: groupRect.width + padding[1] + padding[3],\n        height: groupRect.height + padding[0] + padding[2],\n        r: titleModel.get('borderRadius')\n      },\n      style: style,\n      subPixelOptimize: true,\n      silent: true\n    });\n    group.add(rect);\n  }\n});","import React, { useEffect, useState, useRef } from 'react'\nimport ReactEcharts from 'echarts-for-react/lib/core'\nimport echarts from 'echarts/lib/echarts'\n\n// import 'echarts/lib/chart/map'\nimport 'echarts/lib/component/visualMap'\nimport 'echarts/lib/chart/line'\nimport 'echarts/lib/component/legend'\nimport 'echarts/lib/component/title'\nimport 'echarts/lib/component/tooltip'\n\nfunction PredictMultiple({ data }) {\n\n  const [line, setLine] = useState([])\n  const [Datalegend, setDataLegend] = useState([])\n  const Rref = useRef(undefined)\n  const [exported, setExported] = useState(undefined)\n\n\n  // console.log(Rref)\n  useEffect(() => {\n    // console.log(data.refresh)\n    var tmp = [];\n    var tmpl = [];\n    data.yAxis.map(n => {\n      tmpl.push(n.legend)\n      if (n.type == 'predict') {\n        tmp.push({\n          name: n.legend,\n          type: 'line',\n          smooth: true,\n          //             itemStyle:{\n          //                 normal:{\n          //                     lineStyle:{\n          //                         width:2,\n          //                         type:'dotted'  //'dotted'虚线 'solid'实线\n          //                     },\n          //                     label : {show: true}\n          //                 }\n          //             }, \n          data: n.data,\n        })\n      } else {\n        tmp.push({\n          name: n.legend,\n          type: 'line',\n          smooth: true,\n          data: n.data,\n          // itemStyle : { normal: {label : {show: true}}}\n        })\n      }\n    })\n    setLine(tmp)\n    setDataLegend(tmpl)\n  }, [data.refresh])\n\n  // useEffect(() => {\n  //   console.log(data.refresh)\n  //   // const reObj = Rref.current\n  //   // const eObj = reObj.getEchartsInstance()\n  //   // eObj.setOption(getOption())\n  // }, [data.refresh])\n\n  const getOption = () => {\n    return {\n      // color: colors,\n\n      // tooltip: {\n      //     trigger: 'none',\n      //     axisPointer: {\n      //         type: 'cross'\n      //     }\n      // },\n      // title: {\n      //   left: 'center',\n      //   text: data.title,\n      // },\n      legend: {\n        data: Datalegend,\n        top: 0\n      },\n      tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n          type: 'cross'\n        }\n      },\n      grid: {\n        top: 30,\n        bottom: \"16%\"\n      },\n      xAxis: [\n        {\n          type: 'category',\n          axisTick: {\n            alignWithLabel: true\n          },\n          axisLine: {\n            onZero: false,\n            lineStyle: {\n              // color: colors[1]\n            }\n          },\n          axisLabel: {\n            show: true,\n            textStyle: {\n              fontSize: 6      //更改坐标轴文字大小\n            },\n            //  interval: 0,\n            rotate: 60,\n          },\n          data: data.xAxis\n        }\n      ],\n      yAxis: [\n        {\n          type: 'value',\n          axisLabel: {\n            show: true,\n            textStyle: {\n              fontSize: 6      //更改坐标轴文字大小\n            }\n          },\n        }\n      ],\n      series: line\n    }\n  }\n  return (\n    <>\n      {exported ? <img src={exported} style={{display:\"none\"}}/> : null}\n      <ReactEcharts\n        ref={Rref}\n        echarts={echarts}\n        option={getOption()}\n        lazyUpdate={false}\n        onEvents={{\n          click(e) {\n          },\n          finished(e) {\n            const reObj = Rref.current\n            if (reObj) {\n              const eObj = reObj.getEchartsInstance()\n              // console.log(eObj.getDataURL())\n              setExported(eObj.getDataURL(\n                {\n                  pixelRatio: 3,\n                  backgroundColor: '#fff'\n                }\n              ))\n            }\n          }\n\n        }}\n        style={{ height: \"160px\" }}\n      />\n    </>\n  )\n}\n\nexport default PredictMultiple\n"],"sourceRoot":""}